!function(t){"use strict";const n=["tokyo","shimane","studio"],e="is-active";let o="",i=0,r=!1,s="";function c(){return"file:"===location.protocol}function a(t){const n=String(t||"").trim(),e=n.startsWith("#")?n.slice(1):n.includes("#")?n.split("#").pop():n;return/^[A-Za-z0-9_-]+$/.test(e)?e:""}function u(t){return!!t&&n.includes(t)&&document.getElementById(t)}function l(t,n){if(!t.length)return;const i=a(n);if(!i)return;o=i;const r=t.find('> li > a[href^="#"]');r.removeClass(e).parent("li").removeClass(e);const s=r.filter((function(){return a(this.getAttribute("href"))===i}));s.length&&s.addClass(e).parent("li").addClass(e)}function f(t){const n=document.getElementById(t);if(!n)return;const e=parseInt(n.getAttribute("data-anchor-offset")||"0",10)||0,o=n.getBoundingClientRect().top+window.pageYOffset-function(){const t=getComputedStyle(document.documentElement).getPropertyValue("--header-h"),n=parseInt(t,10);return Number.isFinite(n)?n:80}()-8-e;window.scrollTo({top:o,behavior:"smooth"})}function d(t){const n=String(t||"").trim().toLowerCase();return n.startsWith("javascript:")||n.startsWith("data:")||n.startsWith("vbscript:")}function h(t){if(!t)return"";const n=String(t).replace(/&amp;/g,"&").trim();if(d(n))return"";if(!/youtu\.?be|youtube\.com/i.test(n))return"";const e=function(t){const n=String(t||"");let e=n.match(/youtube\.com\/shorts\/([A-Za-z0-9_-]{6,})/i);return e?e[1]:(e=n.match(/[?&]v=([A-Za-z0-9_-]{6,})/i),e?e[1]:(e=n.match(/youtu\.be\/([A-Za-z0-9_-]{6,})/i),e?e[1]:(e=n.match(/youtube\.com\/embed\/([A-Za-z0-9_-]{6,})/i),e?e[1]:"")))}(n);if(!e)return"";let o=`https://www.youtube.com/embed/${encodeURIComponent(e)}`;const i=new URLSearchParams;return i.set("autoplay","1"),i.set("mute","1"),i.set("rel","0"),i.set("playsinline","1"),c()||"http:"!==location.protocol&&"https:"!==location.protocol||i.set("origin",location.origin),o+"?"+i.toString()}t((function(){const n=t("#submenu-access").first();if(n.length){n.on("click",'a[href^="#"]',(function(t){const e=a(this.getAttribute("href"));u(e)&&(t.preventDefault(),r=!0,s=e,i=Date.now()+1500,l(n,e),function(t){const n="#"+t;c()?location.hash!==n&&(location.hash=t):location.hash!==n?history.pushState(null,"",n):history.replaceState(null,"",n)}(e),f(e))})),window.addEventListener("hashchange",(function(){const t=a(location.hash);u(t)&&(r=!0,s=t,l(n,t))}));let t=!1;window.addEventListener("scroll",(function(){t||(t=!0,requestAnimationFrame((function(){t=!1,function(t){r&&(s&&s!==o||s)&&l(t,s)}(n)})))}),{passive:!0}),window.addEventListener("load",(function(){const t=a(location.hash);u(t)&&(r=!0,s=t,l(n,t))}))}t(document).on("click",".arrow-icon",(function(n){n.preventDefault();const e=t(this).attr("data-target");if(!e)return;!function(n,e){const o=a(n);if(!o||!e||!e.length)return;const i=e.get(0);if(!i)return;const r=i.querySelector("iframe#"+o);if(!r)return;const s=t(r);if(c()){const t=String(s.attr("data-watch")||"").trim();return void(t&&!d(t)&&window.open(t,"_blank","noopener,noreferrer"))}e.find("iframe[id]").each((function(){!function(t){t.attr("src","").hide()}(t(this))})),e.find(".default-building-img").hide();const u=h(String(s.attr("data-src")||"").trim());u&&s.attr("src",u).show()}(e,t(this).closest(".interview-heading, .address-wrapper, .address-wrapper-001").find(".video-wrapper").first())}))}))}(jQuery);