!function(e){"use strict";var t=["ja","vi","en"];function a(e){return e?((e=(e=(e=String(e).split("#")[0].split("?")[0]).replace(/\\/g,"/")).replace(/\/{2,}/g,"/")).length>1&&(e=e.replace(/\/+$/,"")),e||"/"):"/"}function n(){var e=function(){try{var e=(new URL(location.href).searchParams.get("lang")||"").toLowerCase().trim();if(-1!==t.indexOf(e))return e}catch(e){}return""}();if(e)return e;var n=a(location.pathname).toLowerCase();return/(^|\/)vi(\/|$)/.test(n)?"vi":/(^|\/)en(\/|$)/.test(n)?"en":"ja"}function i(e){var t=a(e),n=t.toLowerCase(),i=n.indexOf("/static/");if(i>-1)return t.slice(0,i+7);var r=n.lastIndexOf("/static");if(r>-1){var o=n.slice(r+7,r+8);if(""===o||"/"===o)return t.slice(0,r+7)}for(var l=t.replace(/\/[^\/]*$/,""),c=l.toLowerCase(),s=["/vi","/en"],u=0;u<s.length;u++){var h=c.indexOf(s[u]);if(h>-1)return l.slice(0,h)}for(var d=["about","service","works","recruit","access","contact","company-events","comments-top","results","production-library","job-openings","voices","intro"],m=0;m<d.length;m++){var f="/"+d[m],v=c.indexOf(f);if(v>-1)return l.slice(0,v)}return l}function r(e,t){var n=a(e).slice(t.length);return n.startsWith("/")||(n="/"+n),"/"!==(n=(n=n.replace(/^\/(vi|en)(?=\/)/i,"")).replace(/\/index\.html\/+/gi,"/"))&&""!==n||(n="/index.html"),/\.html$/i.test(n)||(n=n.replace(/\/+$/,""),n+="/index.html"),n=n.replace(/(\/index\.html)+$/i,"/index.html")}function o(e){return"/index.html"===(e=a(e).toLowerCase())||"/"===e}function l(e){e=String(e||"").toLowerCase(),-1===t.indexOf(e)&&(e="ja");var n=i(location.pathname),o=r(location.pathname,n),l=/\/contact_form\.php$/i.test(a(location.pathname)),c=a(l?n+"/contact_form.php":n+("ja"===e?"":"/"+e)+o);c=c.replace(/\/index\.html\/+$/i,"/index.html");var s=new URL(c,location.href);return s.searchParams.set("lang",e),s.hash=location.hash||"",s.toString()}function c(){window.__ALEX_LANG_BOUND__||(e(document).off("click.alexLang").on("click.alexLang",".top-language .lang-btn[data-lang]",(function(a){a.preventDefault(),a.stopPropagation();var n=String(e(this).data("lang")||"").toLowerCase();if(-1!==t.indexOf(n)){try{localStorage.setItem("alex_lang_pref",n)}catch(e){}var i,r=l(n);if(r&&!((i=String(r||"").trim().toLowerCase()).startsWith("javascript:")||i.startsWith("data:")||i.startsWith("vbscript:")))location.assign(r)}})),window.__ALEX_LANG_BOUND__=!0)}function s(){var t,n=i(location.pathname),l=r(location.pathname,n),c=-1!==(t=a(t=l).toLowerCase()).indexOf("/about/")?"about":-1!==t.indexOf("/service/")?"service":-1!==t.indexOf("/works/")?"works":-1!==t.indexOf("/recruit/")?"recruit":-1!==t.indexOf("/access/")?"access":-1!==t.indexOf("/contact/")?"contact":-1!==t.indexOf("/comments-top/")?"recruit":o(t)?"top":null;if(e(".rd-nav-link").removeClass("active-link"),c){var s={about:"/about/index.html",service:"/service/index.html",works:"/works/index.html",recruit:"/recruit/index.html",access:"/access/index.html",contact:"/contact/index.html"};e("#primary-menu a.rd-nav-link, #menu-main a.rd-nav-link").each((function(){var t=(e(this).attr("href")||"").trim();if(t){var i=function(e){try{return new URL(e,location.href)}catch(e){return null}}(t);if(i){var l=r(i.pathname,n);if("top"!==c){var u=s[c];if(u&&a(l).toLowerCase()===u){e(this).addClass("active-link");var h=e(this).closest("li.menu-item-has-children");h.length&&h.children("a.rd-nav-link").addClass("active-link")}}else o(l)&&e(this).addClass("active-link")}}}))}}e((function(){e(".top-language .lang-btn[data-lang]").each((function(){var a=String(e(this).data("lang")||"").toLowerCase();-1!==t.indexOf(a)&&e(this).attr("href",l(a))})),c();var a,i,r=n();a=r,e(".top-language .lang-item").removeClass("is-active"),e(".top-language .lang-btn").removeAttr("aria-current"),e('.top-language .lang-btn[data-lang="'+a+'"]').attr("aria-current","true").closest(".lang-item").addClass("is-active"),s(),(i=e("#mobilenav")).length&&(i.find("li.menu-item-has-children").each((function(){var t=e(this);t.children(".arrow").length||t.append(e("<span/>",{class:"arrow","aria-hidden":"true"})),t.children("ul.sub-menu").hide()})),i.off("click.mobileArrow").on("click.mobileArrow",".arrow",(function(t){t.preventDefault(),t.stopPropagation();var a=e(this).closest("li.menu-item-has-children"),n=a.children("ul.sub-menu");a.siblings(".menu-item-has-children.open").removeClass("open").children("ul.sub-menu").stop(!0,!0).slideUp(200),a.toggleClass("open"),n.stop(!0,!0).slideToggle(200)})),i.off("click.mobileLink").on("click.mobileLink","a",(function(){e("#mobilenav").removeClass("opened"),e(".panel-overlay").removeClass("active"),e("#showmenu .hamburger").removeClass("is-active")})))}))}(jQuery);